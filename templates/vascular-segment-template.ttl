@prefix : <http://celldl.org/templates/vascular#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix bg: <http://celldl.org/ontologies/bond-graph#> .
@prefix cdt: <https://w3id.org/cdt/> .
@prefix tpl: <http://celldl.org/ontologies/model-template#> .

#===============================================================================

## This is about defining BG model templates

:segment-template
    a tpl:Template ;
    rdfs:label "Vascular segment template" ;
    bg:model :segment-model ;
    tpl:port
        :segment-model:bp_1 ,
        :segment-model:bp_2 .

:segment-model
    a bg:Model .
    # Need reference to CellML description
    # and mapping between CellML variables and BG nodes...

:segment-model:bp_1
    a bg:ZeroStorageNode ;
    bg:model :segment-model ;
    rdfs:label "Input pressure" ;
    bg:units "kPa"^^cdt:ucumunit ;
    tpl:parameter :elastance, :fixed-volume ;
    tpl:state :volume .

:segment-model:resistance
    a bg:OneResistanceNode ;
    bg:model :segment-model ;
    ##bg:units "kPa"^^cdt:ucumunit ;    ## Flow units...
    tpl:parameter :resistance .

:segment-model:bp_2
    a bg:ZeroStorageNode ;
    bg:model :segment-model ;
    rdfs:label "output pressure" ;
    bg:units "kPa"^^cdt:ucumunit ;
    tpl:parameter :elastance, :fixed-volume ;
    tpl:state :volume .

:segment-model:ID-00000001
    a bg:Bond ;
    bg:model :segment-model ;
    bg:source :segment-model:bp_1 ;
    bg:target :segment-model:resistance .

:segment-model:ID-00000002
    a bg:Bond ;
    bg:model :segment-model ;
    bg:source :segment-model:resistance ;
    bg:target :segment-model:bp_2 .

#===============================================================================

# Quantities associated with the segment,
#
# These are generic and would likely be defined outside of the template
# definition.

:elastance
    a bg:Quantity ;
    rdfs:label "Elastance" ;
    bg:units "kPa/L"^^cdt:ucumunit .

:fixed-volume
    a bg:Quantity ;
    rdfs:label "Fixed volume" ;
    bg:units "L"^^cdt:ucumunit .

:volume
    a bg:Quantity ;
    rdfs:label "Volume" ;
    bg:units "L"^^cdt:ucumunit .

:resistance
    a bg:Quantity ;
    rdfs:label "Segment resistance" ;
    bg:units "kPa.s/L"^^cdt:ucumunit .

#===============================================================================
